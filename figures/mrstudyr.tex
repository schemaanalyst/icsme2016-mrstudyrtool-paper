\newcommand{\mx}[1]{\mathbf{\bm{#1}}} % Matrix command
\newcommand{\vc}[1]{\mathbf{\bm{#1}}} % Vector command

% Define the layers to draw the diagram
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

% Define block styles used later

\tikzstyle{sensor}=[draw, fill=black!5, text width=8em,
    text centered, minimum height=2.5em,drop shadow]
\tikzstyle{smallsensor}=[draw, fill=black!5, text width=4em,
    text centered, minimum height=2.5em,drop shadow]
\tikzstyle{box}=[draw, text width=8em,
    text centered, minimum width=17.5em, minimum height=3.5em]
\tikzstyle{calc}=[draw, fill=black!5, text width=4.5em,
    text centered, rounded corners, minimum height=2.5em,drop shadow]
\tikzstyle{circle}=[draw, ellipse, fill=black!5, text width=8em,
    text centered, minimum height=2.5em, drop shadow]
\tikzstyle{mr}=[draw, fill=black!20, text width=5em,
    text centered, minimum height=17em, minimum width = 18em, drop shadow]

% Define distances for bordering
\def\blockdist{1.5}
\def\edgedist{2.5}

\begin{figure}[t]
  \centering
% SIMPLE
\begin{tikzpicture}[thick,scale=0.85, every node/.style={scale=0.85}]
    \node [mr] at (0, 0) (mr) {};
    \node [circle] at (0, 3.7) (md) {Mutant Data};
    \node [sensor] at (0, 2.25) (r) {Reduction Approach};
    \node [circle] at (0, 0.75) (rmd) {Reduced Mutant Data};
    \node [sensor] at (0, -0.75) (ra) {Effectiveness Analysis};
    \node [box] at (0, -2.25) (box) {};
    \node [calc] at (-2, -2.25) (corr) {Correlation};
    \node [calc] at (0, -2.25) (err) {Error};
    \node [calc] at (2, -2.25) (ms) {Mutation Score};
    \node [sensor] at (0, -3.75) (he) {Human Exam};
    \node [circle] at (0, -5.25) (pr) {Policy Recommendation};

    \path [draw, ->] (md.south) -- node [above] {}
        (r.90);
    \path [draw, ->] (r.south) -- node [above] {}
        (rmd.90);
    \path [draw, ->] (rmd.south) -- node [above] {}
        (ra.90);
    \path [draw, ->] (ra.south) --  node [above] {}
        (box.90);
    \path [draw, ->] (box.south) --  node [above] {}
        (he.90);
    \path [draw, ->] (he.south) -- node [above] {}
        (pr.90);
\end{tikzpicture}
\caption{\label{fig:mrstudyr}The inputs and outputs of the retrospective analysis phase
of the mutation analysis process, performed by the \mr tool. \\
\textit{The darkest square in the background represents the \mr tool.
A rectangle represents a process. A rectangle with rounded edges represents a
calculation performed by \mr. An ellipse represents the output from a process.}}
\end{figure}
